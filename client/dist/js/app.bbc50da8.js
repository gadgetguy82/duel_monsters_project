(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)i=o[u],r[i]&&h.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01f1":function(t,e,a){"use strict";var n=a("61f4"),r=a.n(n);r.a},"0472":function(t,e,a){},"09f7":function(t,e,a){},"0b61":function(t,e,a){"use strict";var n=a("e860"),r=a.n(n);r.a},"0f0d":function(t,e,a){},1:function(t,e){},"13e0":function(t,e,a){"use strict";var n=a("0f0d"),r=a.n(n);r.a},"16a4":function(t,e,a){},"1e91":function(t,e,a){"use strict";var n=a("eee1"),r=a.n(n);r.a},2453:function(t,e,a){},"250c":function(t,e,a){"use strict";var n=a("83b3"),r=a.n(n);r.a},"272b":function(t,e,a){},"2eb8":function(t,e,a){"use strict";var n=a("2453"),r=a.n(n);r.a},"3a5a":function(t,e,a){"use strict";var n=a("ebd0"),r=a.n(n);r.a},"40a6":function(t,e,a){"use strict";var n=a("aa74"),r=a.n(n);r.a},"40e4":function(t,e,a){"use strict";var n=a("61fd"),r=a.n(n);r.a},4546:function(t,e,a){"use strict";var n=a("7626"),r=a.n(n);r.a},"4e25":function(t,e,a){"use strict";var n=a("82d0"),r=a.n(n);r.a},5623:function(t,e,a){"use strict";var n=a("8c3a"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{attrs:{id:"nav-bar"}},[a("router-link",{attrs:{to:{name:"home"}}},[t._v(" HOME ")]),t.gameCards.length>0?a("router-link",{attrs:{to:{name:"game-board"}}},[t._v(" BOARD ")]):t._e(),t.allCards.length>0?a("router-link",{attrs:{to:{name:"store"}}},[t._v(" STORE ")]):t._e(),a("router-link",{attrs:{to:{name:"about"}}},[t._v(" ABOUT ")]),a("div",{staticClass:"right"},[t.allCards.length>0?a("router-link",{attrs:{to:{name:"develop"}}},[t._v(" DEVELOPMENT ")]):t._e()],1)],1),a("div",{staticClass:"view"},[a("router-view",{attrs:{id:"view",allCards:t.allCards,gameCards:t.gameCards,normalMonsters:t.normalMonsters,eventBus:t.eventBus}})],1)])},s=[],i=(a("6762"),a("2fdb"),a("ac6a"),Object({NODE_ENV:"production",BASE_URL:"/"}).HOST||"http://localhost"),o=Object({NODE_ENV:"production",BASE_URL:"/"}).PORT||3e3,c="".concat(i,":").concat(o,"/api/duel_monsters_game/");function l(t){return{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}}var d={getAllCards:function(t){var e=t?c+t:c;return fetch(e).then(function(t){return t.json()})},postCard:function(t,e){var a=e?c+e:c;return fetch(a,l(t)).then(function(t){return t.json()})},postCards:function(t,e){var a=e?c+e+"all":c+"all";return fetch(a,l(t)).then(function(t){return t.json()})},deleteCard:function(t,e){var a=e?c+e:c;return fetch(a+t,{method:"DELETE"}).then(function(t){return t.json()})},updateCard:function(t,e){var a=e?c+e:c;return fetch(a+t._id,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()})},writeFile:function(t){var e=t?c+t+"write":c+"write";return fetch(e).then(function(t){return t.json()})},readFile:function(t){var e=t?c+t+"read":c+"read";return fetch(e).then(function(t){return t.json()})}},u={name:"app",data:function(){return{eventBus:yn,allCards:[],gameCards:[],normalMonsters:[]}},mounted:function(){var t=this;this.loadAllCards(),this.loadGameCards(),this.eventBus.$on("reload-game-cards",function(){return t.loadGameCards()})},methods:{loadAllCards:function(){var t=this;d.getAllCards("cards/").then(function(e){t.allCards=e,t.allCards.forEach(function(e){t.$set(e,"game",!1),t.$set(e,"hidden",!0),t.$set(e,"initial",!0),t.$set(e,"player",""),e.type.includes("Monster")&&(delete e._id,t.$set(e,"position","atk"),t.$set(e,"afterOneChange",!1),e.type.includes("Normal Monster")&&t.normalMonsters.push(e))})})},loadGameCards:function(){var t=this;d.getAllCards("game_cards/").then(function(e){return t.gameCards=e})}}},h=u,p=(a("b7d6"),a("2877")),m=Object(p["a"])(h,r,s,!1,null,"9382e822",null),f=m.exports,v=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("div",{attrs:{id:"background"}},[a("h1",[t._v("Duel Monsters Card Game")]),a("p",[t._v("Select 'update database' for the most current card collection")]),a("game-button",{attrs:{text:"Update Database",colour:"blue"},nativeOn:{click:function(e){return t.fetchData(e)}}}),a("h2",[t._v("--How to Play--")]),t._m(0),t.gameCards.length>0?a("button",[a("router-link",{attrs:{to:{name:"game-board"}}},[t._v("Start Game!")])],1):t._e()],1)])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("Click the update database button above to store a local copy of the cards")]),a("li",[t._v("Player one starts first, click on the Start button to begin")]),a("li",[t._v("Clicking the button changes the phases during your turn")]),a("li",[t._v("In the draw phase player one can start drawing cards from their playing deck")]),a("li",[t._v("You can skip the standby phase for now as effects/spells/traps are not in game yet")]),a("li",[t._v("In the first main phase you can summon monsters out to the monster zone")]),a("li",[t._v("Once summoned you should set each monster to attack/defence")]),a("li",[t._v("In the battle phase select one of your attack monsters to attack the opponent")]),a("li",[t._v("Starting player cannot attack on his first turn")]),a("li",[t._v("In the second main phase you can summon more monsters out to the monster zone")]),a("li",[t._v("Click the end phase to end your turn")]),a("li",[t._v("Pass play to your opponent")]),a("li",[t._v("Play until someone loses. Once a player’s Life Points reach zero, they lose the duel.")]),a("li",[t._v("Click begin game below to start a match")])])}],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.colour,attrs:{type:"button"}},[t._v(t._s(t.text))])},C=[],_={name:"game-button",props:["text","colour"],methods:{handleClick:function(t){t.preventDefault()}}},k=_,S=(a("ca08"),Object(p["a"])(k,b,C,!1,null,"78195e0f",null)),D=S.exports,x={name:"home",props:["gameCards","eventBus"],components:{"game-button":D},data:function(){return{allCards:[]}},mounted:function(){this.eventBus.$emit("reload-game-cards")},methods:{fetchData:function(){var t=this;fetch("https://db.ygoprodeck.com/api/v5/cardinfo.php").then(function(t){return t.json()}).then(function(e){t.allCards=e,d.postCards(t.allCards,"cards/")})}}},w=x,B=(a("4e25"),Object(p["a"])(w,y,g,!1,null,"19d9a407",null)),$=B.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"game-board"}},[a("div",{staticClass:"board-container top-board"},[a("player-board",{attrs:{gameCards:t.gameCards,gameState:t.gameState,playerData:t.yellowPlayerData}})],1),a("div",{staticClass:"middle-section"},[a("div",{staticClass:"phase-container"},[t._m(0),a("div",{staticClass:"button-container"},["one"===t.gameState.turn?a("phase-button",{attrs:{gameState:t.gameState,playerData:t.yellowPlayerData}}):t._e()],1),a("div",{staticClass:"button-container"},["two"===t.gameState.turn?a("phase-button",{attrs:{gameState:t.gameState,playerData:t.bluePlayerData}}):t._e()],1),t._m(1)]),a("battle-field",{attrs:{gameState:t.gameState}}),a("info-box",{attrs:{gameState:t.gameState}})],1),a("div",{staticClass:"win-lose"},[a("win-lose")],1),a("div",{staticClass:"board-container bottom-board"},[a("player-board",{attrs:{gameCards:t.gameCards,gameState:t.gameState,playerData:t.bluePlayerData}})],1)])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("i",{staticClass:"arrow-up"}),t._v(" Player One "),a("i",{staticClass:"arrow-up"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("i",{staticClass:"arrow-down"}),t._v(" Player Two "),a("i",{staticClass:"arrow-down"})])}],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ai-board-container bottom"},[a("div",{staticClass:"first col"},[a("div",{staticClass:"top-row"},[a("playing-hand",{attrs:{gameState:t.gameState,playerData:t.playerData}})],1),a("div",{staticClass:"bottom-row deck-container"},[a("main-deck",{attrs:{deck:t.deck,gameState:t.gameState,playerData:t.playerData}}),a("extra-deck"),a("side-deck")],1)]),a("div",{staticClass:"second col"},[a("div",{staticClass:"top-row"},[a("spell-trap-zone",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("field-zone")],1),a("div",{staticClass:"bottom-row"},[a("monster-zone",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("extra-monster-zone")],1)]),a("div",{staticClass:"last col"},[a("div",{staticClass:"top-row"},[a("life-points",{attrs:{playerData:t.playerData}})],1),a("div",{staticClass:"bottom-row"},[a("graveyard-deck",{attrs:{playerData:t.playerData}})],1)])])},P=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-deck-container"},[a("div",{staticClass:"main-deck",class:{last:0===t.deck.length},on:{click:t.drawCard}},[a("h4",[t._v("Main Deck")])])])},z=[],A=(a("20d6"),a("456d"),a("d225")),j=a("b0b4"),I="Start",N="Draw",H="Standby",L="First Main",R="Battle",F="Second Main",G="End",Z="atk",U="def",V="one",W="two",Y=5,J=6,K=[L,F],X=(a("a481"),a("ac4d"),a("8a81"),a("28a5"),a("55dd"),a("ffc1"),function(t){return"one"===t?"two":"one"}),q=function(t,e){var a=t.turn,n=e.player;return a===n},Q=function(t,e){return t.hasOwnProperty(e)?t[e]++:t[e]=1,t},tt=function(t,e){var a=t[0].toLowerCase(),n=e[0].toLowerCase();return a<n?-1:a>n?1:0},et=function(t){var e=Object.entries(t);return e.sort(tt)},at=function(t){var e=t.split(","),a=[];e.forEach(function(t){var e=t.split(":"),n=[],r=!0,s=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value,d=l.replace(/\./gi,"").trim();n.push(JSON.stringify(d))}}catch(u){s=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}a.push("  "+n.join(": "))});var n="{\n"+a.join(",\n")+"\n}";return JSON.parse(n)},nt=function(){function t(){Object(A["a"])(this,t)}return Object(j["a"])(t,null,[{key:"isEmpty",value:function(t){return 0===Object.keys(t).length}},{key:"changePhase",value:function(t){switch(t.phase){case I:t.phase=N;break;case N:t.phase=H;break;case H:t.phase=L;break;case L:t.phase=R;break;case R:t.skipBattle?t.phase=G:t.phase=F;break;case F:t.phase=G;break;case G:t.turn=X(t.turn),t.phase=I}return t}},{key:"checkTurn",value:function(t,e){var a=t.turn,n=e.player;return q({turn:a},{player:n})}},{key:"checkChangeTurn",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return!q({turn:a},{player:r})&&n===I}},{key:"checkStartPhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&n===I}},{key:"checkDrawPhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&n===N}},{key:"checkStandbyPhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&n===H}},{key:"checkMainPhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&K.includes(n)}},{key:"checkBattlePhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&n===R}},{key:"checkTarget",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return!q({turn:a},{player:r})&&n===R}},{key:"checkEndPhase",value:function(t,e){var a=t.turn,n=t.phase,r=e.player;return q({turn:a},{player:r})&&n===G}},{key:"compareStats",value:function(t,e){if(null!==t&&null!==e){var a=t.position===Z?parseInt(t.atk):parseInt(t.def),n=e.position===Z?parseInt(e.atk):parseInt(e.def),r=0,s=[];return a>n?(r=n-a,s.push(e)):a<n?(r=a-n,s.push(t)):t.position===e.position&&(s.push(t),s.push(e)),{cards:s,damage:r}}}},{key:"checkDamage",value:function(t,e){var a=this.compareStats(t,e);return a.cards.length>0&&a.cards[0].position===U&&(a.damage=0),a}},{key:"removeCard",value:function(t,e){var a=e.findIndex(function(e){return e===t});a>=0&&e.splice(a,1)}}]),t}(),rt=nt,st={name:"main-deck",props:["deck","gameState","playerData"],data:function(){return{canDraw:!1}},mounted:function(){var t=this;this.playerData.eventBus.$on("draw-max",function(){t.canDraw=!1})},watch:{"gameState.phase":function(){if(rt.checkDrawPhase(this.gameState,this.playerData))if(this.canDraw=!0,0===this.deck.length&&(this.canDraw=!1,this.playerData.eventBus.$emit("defeat",this.playerData.player)),this.playerData.firstTurn)for(var t=0;t<this.playerData.firstDrawAmount;t++)this.drawCard();else this.drawCard();else rt.checkStandbyPhase(this.gameState,this.playerData)&&(this.canDraw=!1)}},methods:{drawCard:function(){if(this.canDraw){var t=this.deck.pop();this.playerData.eventBus.$emit("draw-card",t),this.playerData.firstTurn||(this.canDraw=!1)}}}},it=st,ot=(a("84b3"),Object(p["a"])(it,M,z,!1,null,"454dd6aa",null)),ct=ot.exports,lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"extra-deck-container"},[a("div",{staticClass:"extra-deck"},[a("div",{staticClass:"layer"},[a("h4",[t._v("Extra Deck")])])])])}],ut={name:"extra-deck"},ht=ut,pt=(a("748a"),Object(p["a"])(ht,lt,dt,!1,null,"4837cf5e",null)),mt=pt.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-deck-container"},[a("div",{staticClass:"side-deck"},[a("div",{staticClass:"layer"},[a("h4",[t._v("Side Deck")])])])])}],yt={name:"side-deck"},gt=yt,bt=(a("40e4"),Object(p["a"])(gt,ft,vt,!1,null,"c96680e2",null)),Ct=bt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playing-hand-container"},[a("div",{staticClass:"playing-hand"},t._l(t.playerHand,function(e,n){return a("playing-card",{key:n,attrs:{card:e},nativeOn:{click:function(a){return t.placeOrDiscard(e)}}})}),1),t.canChoosePosition?a("div",{staticClass:"button-container"},[a("game-button",{attrs:{text:"Attack",colour:"red"},nativeOn:{click:function(e){return t.setAttack(t.summoningCard)}}}),a("game-button",{attrs:{text:"Defend",colour:"blue"},nativeOn:{click:function(e){return t.setDefend(t.summoningCard)}}})],1):t._e()])},kt=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-container",class:{shown:!t.card.hidden,atk:"atk"===t.card.position,def:"def"===t.card.position,change:t.card.AfterOneChange},on:{mouseover:function(e){return t.display(t.card)},mouseout:t.cancel}},[n("div",{staticClass:"card"},[n("img",{staticClass:"hover",class:{show:!t.card.hidden,hide:t.card.hidden},attrs:{src:t.card.card_images[0].image_url_small}}),n("img",{class:{hide:!t.card.hidden,show:t.card.hidden},attrs:{src:a("c302")}}),n("div",{staticClass:"hide text"},[n("p",[t._v(t._s(t.card.name))]),t.card.level?n("p",[t._v("lvl: "+t._s(t.card.level))]):t._e(),t.card.atk?n("p",[t._v("atk: "+t._s(t.card.atk))]):t._e(),t.card.def?n("p",[t._v("def: "+t._s(t.card.def))]):t._e()])])])},Dt=[],xt={name:"playing-card",props:["card"],data:function(){return{eventBus:yn,timer:null,displayed:!1}},methods:{display:function(t){var e=this;this.timer=window.setTimeout(function(){e.eventBus.$emit("display-card",t),e.displayed=!0},1e3)},cancel:function(){this.timer&&window.clearTimeout(this.timer),this.displayed&&this.eventBus.$emit("cancel")}}},wt=xt,Bt=(a("b3e2"),Object(p["a"])(wt,St,Dt,!1,null,"ffee570a",null)),$t=Bt.exports,Tt=function(t,e,a){var n=t.action,r=t.fieldCard,s=e.split("-"),i=s[s.length-1];a.forEach(function(t){t[r.affects.on]===r.affects[r.affects.on]&&("add"===n?t.buff[i]=t.buff[i]?t.buff[i]+parseInt(r.effect[e]):parseInt(r.effect[e]):"remove"===n&&(t.buff[i]-=parseInt(r.effect[e])))})},Ot=function(t,e,a){var n=t.action,r=t.fieldCard,s=e.split("-"),i=s[s.length-1];a.forEach(function(t){t[r.affects.on]===r.affects[r.affects.on]&&("add"===n?t[i]=parseInt(t[i])+parseInt(r.effect[e]):"remove"===n&&(t[i]-=parseInt(r.effect[e])))})},Et=function(t,e,a){var n=t.action,r=t.fieldCard,s=e.split("-"),i=s[s.length-1];a[r.affects.on]!==r.affects[r.affects.on]||a.hidden||"add"===n&&(a.buff[i]=a.buff[i]?a.buff[i]+parseInt(r.effect[e]):parseInt(r.effect[e]))},Pt=function(t,e,a,n){var r=t.action,s=t.fieldCard,i=e.split("-"),o=i[i.length-1];a[s.affects.on]!==s.affects[s.affects.on]||a.hidden&&"def"!==a.position?"change-position"===r&&n&&a.position!==o&&(a[o]=parseInt(a[o])-parseInt(s.effect[e])):"add"===r?a[o]=parseInt(a[o])+parseInt(s.effect[e]):"add-summon"===r&&n?a[o]=parseInt(a[o])+parseInt(s.effect[e]):"change-position"===r&&n&&a.position===o?a[o]=parseInt(a[o])+parseInt(s.effect[e]):"remove"===r&&(a[o]=parseInt(a[o])-parseInt(s.effect[e]),console.log("remove",a[o]))},Mt={name:"playing-hand",props:["gameState","playerData"],components:{"playing-card":$t,"game-button":D},data:function(){return{playerHand:[],monsterZone:{spaces:Y,tributes:Y},canNormalSummon:!1,summoningCard:{},canChoosePosition:!1,tributeData:{},canDiscard:!1}},mounted:function(){var t=this;this.playerData.eventBus.$on("draw-card",function(e){e.hidden=!1,e.buff={},t.playerHand.push(e),gn.$emit("card-drawn")}),this.playerData.eventBus.$on("monster-zone-spaces",function(e){return t.monsterZone=e}),this.playerData.eventBus.$on("summon-success",function(e){rt.removeCard(e,t.playerHand),t.canChoosePosition=!1,t.resetHand(),t.canNormalSummon=!1}),this.playerData.eventBus.$on("field-placed",function(e){rt.removeCard(e,t.playerHand)}),this.gameState.eventBus.$on("monster-zone-atk",function(e){var a="monster-zone-atk";Tt(e,a,t.playerHand)}),this.gameState.eventBus.$on("monster-zone-def",function(e){var a="monster-zone-def";Tt(e,a,t.playerHand)}),this.gameState.eventBus.$on("all-zone-level",function(e){var a="all-zone-level";Ot(e,a,t.playerHand)}),this.gameState.eventBus.$on("all-zone-atk",function(e){var a="all-zone-atk";Ot(e,a,t.playerHand)}),this.gameState.eventBus.$on("all-zone-def",function(e){var a="all-zone-def";Ot(e,a,t.playerHand)}),gn.$on("monster-zone-atk",function(e){var a="monster-zone-atk",n=t.playerHand[t.playerHand.length-1];Et(e,a,n)}),gn.$on("monster-zone-def",function(e){var a="monster-zone-def",n=t.playerHand[t.playerHand.length-1];Et(e,a,n)}),gn.$on("all-zone-level",function(e){var a="all-zone-level",n=t.playerHand[t.playerHand.length-1];Pt(e,a,n)}),gn.$on("all-zone-atk",function(e){var a="all-zone-atk",n=t.playerHand[t.playerHand.length-1];Pt(e,a,n)}),gn.$on("all-zone-def",function(e){var a="all-zone-def",n=t.playerHand[t.playerHand.length-1];Pt(e,a,n)})},watch:{"gameState.phase":function(){if(rt.checkDrawPhase(this.gameState,this.playerData)||rt.checkChangeTurn(this.gameState,this.playerData)){var t=!0,e=!1,a=void 0;try{for(var n,r=this.playerHand[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;s.hidden=!s.hidden}}catch(i){e=!0,a=i}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}this.canNormalSummon=!0}else rt.checkBattlePhase(this.gameState,this.playerData)?(this.canChoosePosition=!1,this.resetHand()):rt.checkEndPhase(this.gameState,this.playerData)&&(this.canChoosePosition=!1,this.resetHand(),this.playerHand.length>J&&(this.playerData.eventBus.$emit("hand-extra-cards"),this.canDiscard=!0))},playerHand:function(){this.playerData.firstTurn&&this.playerHand.length===this.playerData.firstDrawAmount?this.playerData.eventBus.$emit("draw-max"):rt.checkEndPhase(this.gameState,this.playerData)&&this.playerHand.length<7&&(this.playerData.eventBus.$emit("hand-no-extra-cards"),this.canDiscard=!1)}},methods:{placeOrDiscard:function(t){rt.checkMainPhase(this.gameState,this.playerData)?(this.canNormalSummon&&(this.summoningCard=t,this.monsterZone.spaces>0&&parseInt(t.level)<5?(this.canChoosePosition=!0,this.playerData.eventBus.$emit("normal-summon",this.summoningCard),this.tributeData={}):Y-this.monsterZone.tributes>0&&4<parseInt(t.level)&&parseInt(t.level)<7?this.tributeSummon(1):Y-this.monsterZone.tributes>1&&parseInt(t.level)>6&&this.tributeSummon(2)),"Trap Card"===t.type?this.playerData.eventBus.$emit("place-trap",t):"Spell Card"===t.type&&("Field"===t.race?this.playerData.eventBus.$emit("place-field",t):this.playerData.eventBus.$emit("place-spell",t))):rt.checkEndPhase(this.gameState,this.playerData)&&this.canDiscard&&(this.playerData.eventBus.$emit("discard",t),rt.removeCard(t,this.playerHand))},tributeSummon:function(t){this.canChoosePosition=!0,this.tributeData.summoningCard=this.summoningCard,this.tributeData.amount=t,this.tributeData.tributes=[],this.playerData.eventBus.$emit("tribute-summon",this.tributeData),this.tributeData={}},setAttack:function(t){t.position=Z,t.hidden=!1},setDefend:function(t){t.position=U,t.hidden=!0},resetHand:function(){var t=!0,e=!1,a=void 0;try{for(var n,r=this.playerHand[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var s=n.value;this.setAttack(s)}}catch(i){e=!0,a=i}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}}}},zt=Mt,At=(a("577b"),Object(p["a"])(zt,_t,kt,!1,null,"3f78a7e3",null)),jt=At.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"magic-container",class:{yellow:"one"===t.playerData.player,blue:"two"===t.playerData.player}},[a("div",{staticClass:"spell-trap-zone"})])},Nt=[],Ht={name:"spell-trap-zone",props:["gameState","playerData"],components:{"playing-card":$t}},Lt=Ht,Rt=(a("0b61"),Object(p["a"])(Lt,It,Nt,!1,null,"92f345ca",null)),Ft=Rt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-zone-container",on:{click:t.placeFieldCard}},[a("div",{staticClass:"field-zone"},[t._m(0),t.card.name?a("playing-card",{staticClass:"card",attrs:{card:t.card}}):t._e()],1)])},Zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layer"},[a("h4",[t._v("Field Zone")])])}],Ut={name:"field-zone",props:["gameState","playerData"],components:{"playing-card":$t},data:function(){return{card:{},fieldCard:{},canPlace:!1}},mounted:function(){var t=this;this.playerData.eventBus.$on("place-field",function(e){t.canPlace=!0,t.fieldCard=e}),this.gameState.eventBus.$on("check-field",function(e){"summon"===e?t.addEffects(t.gameState.eventBus,"add-summon"):"position"===e&&t.addEffects(t.gameState.eventBus,"change-position")}),gn.$on("card-drawn",function(){return t.addEffects(gn,"add")})},methods:{placeFieldCard:function(){this.canPlace&&(rt.isEmpty(this.card)||(this.playerData.eventBus.$emit("discard",this.card),this.removeEffects(this.gameState.eventBus,"remove")),this.card=this.fieldCard,this.playerData.eventBus.$emit("field-placed",this.card),this.addEffects(this.gameState.eventBus,"add"),this.canPlace=!1)},addEffects:function(t,e){var a=this;rt.isEmpty(this.card)||"both"===this.card.affects.player&&Object.keys(this.card.effect).forEach(function(n){t.$emit(n,{action:e,fieldCard:a.card})})},removeEffects:function(t,e){var a=this;"both"===this.card.affects.player&&Object.keys(this.card.effect).forEach(function(n){t.$emit(n,{action:e,fieldCard:a.card})})}}},Vt=Ut,Wt=(a("cfb0"),Object(p["a"])(Vt,Gt,Zt,!1,null,"2a700310",null)),Yt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monster-zone-container",class:{yellow:"one"===t.playerData.player,blue:"two"===t.playerData.player},on:{click:t.checkMonsterZone}},[a("monster-space",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("monster-space",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("monster-space",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("monster-space",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("monster-space",{attrs:{gameState:t.gameState,playerData:t.playerData}})],1)},Kt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monster-space-container",on:{click:function(e){return t.handleClick()}}},[a("div",{staticClass:"space-portrait"},[t.card&&"atk"===t.card.position?a("playing-card",{attrs:{card:t.card}}):t._e()],1),a("div",{staticClass:"space-landscape"},[t.card&&"def"===t.card.position?a("playing-card",{attrs:{card:t.card}}):t._e()],1)])},qt=[],Qt=a("768b"),te={name:"monster-card-space",props:["gameState","playerData"],components:{"playing-card":$t},data:function(){return{card:{},summonCard:{},tributeData:{tributes:[]},canSummon:!1,canTribute:!1,canChangePosition:!1,canAttack:!1,canBeTargetted:!1,spaceSelected:!1,spaceSummoned:!1,spaceChanged:!1}},mounted:function(){var t=this;this.playerData.eventBus.$on("normal-summon",function(e){rt.isEmpty(t.card)&&rt.checkMainPhase(t.gameState,t.playerData)&&(t.canSummon=!0,t.summonCard=e)}),this.playerData.eventBus.$on("tribute-summon",function(e){rt.isEmpty(t.card)||!rt.checkMainPhase(t.gameState,t.playerData)||t.card.initial||(t.canTribute=!0,t.tributeData=e)}),this.playerData.eventBus.$on("summon-success",function(){t.canSummon=!1,t.summonCard={},t.canTribute=!1,t.tributeData={tributes:[]}}),this.gameState.eventBus.$on("battle-select-attacker",function(){rt.checkTurn(t.gameState,t.playerData)||rt.isEmpty(t.card)||(t.canBeTargetted=!0)}),this.gameState.eventBus.$on("battle-over",function(){rt.checkTurn(t.gameState,t.playerData)||rt.isEmpty(t.card)||(t.canBeTargetted=!1)}),this.playerData.eventBus.$on("win",function(e){t.returnCard(e.card)}),this.playerData.eventBus.$on("no-win",function(e){t.returnCard(e.card)}),this.playerData.eventBus.$on("lose",function(){t.spaceSelected&&(t.canBeTargetted=!1,t.spaceSelected=!1)}),this.playerData.eventBus.$on("battle-cancelled",function(e){t.spaceSelected&&(t.returnCard(e),rt.checkBattlePhase(t.gameState,t.playerData)?t.canAttack=!0:t.gameState.phase===R&&(t.canBeTargetted=!0))}),this.gameState.eventBus.$on("monster-zone-atk",function(e){var a="monster-zone-atk";Pt(e,a,t.card)}),this.gameState.eventBus.$on("monster-zone-def",function(e){var a="monster-zone-def";Pt(e,a,t.card)}),this.gameState.eventBus.$on("all-zone-level",function(e){var a="all-zone-level";Pt(e,a,t.card)}),this.gameState.eventBus.$on("all-zone-atk",function(e){var a="all-zone-atk";Pt(e,a,t.card)}),this.gameState.eventBus.$on("all-zone-def",function(e){var a="all-zone-def";Pt(e,a,t.card)}),this.gameState.eventBus.$on("summon-change-def",function(e){var a="summon-change-def",n=!1;(t.spaceSummoned||t.spaceChanged)&&(n=!0),Pt(e,a,t.card,n),t.spaceSummoned=!1,t.spaceChanged=!1,n=!1})},watch:{"gameState.phase":function(){rt.checkDrawPhase(this.gameState,this.playerData)&&!rt.isEmpty(this.card)?(this.canChangePosition=!0,this.card.initial=!1):rt.checkBattlePhase(this.gameState,this.playerData)&&!rt.isEmpty(this.card)?(this.canAttack=!0,this.playerData.player===V&&this.playerData.firstTurn&&(this.canAttack=!1)):rt.checkMainPhase(this.gameState,this.playerData)&&!rt.isEmpty(this.card)&&(this.canAttack=!1,this.canBeTargetted=!1)}},methods:{handleClick:function(){switch(!0){case this.canSummon:this.summon();break;case this.canTribute:this.tribute();break;case this.canAttack:this.attack();break;case this.canBeTargetted:this.selectTarget();break;case this.canChangePosition:this.changePosition();break}},summon:function(){var t=this;this.card=this.summonCard,this.spaceSummoned=!0,rt.isEmpty(this.card.buff)||Object.entries(this.card.buff).forEach(function(e){var a=Object(Qt["a"])(e,2),n=a[0],r=a[1];t.card[n]=parseInt(t.card[n])+r}),this.playerData.eventBus.$emit("summon-success",this.card),this.gameState.eventBus.$emit("check-field","summon")},tribute:function(){this.tributeData.tributes.push(this.card),this.playerData.eventBus.$emit("tribute-selected",this.card),this.card={},this.canTribute=!1,this.canChangePosition=!1,this.tributeData.tributes.length===this.tributeData.amount&&(this.card=this.tributeData.summoningCard,this.playerData.eventBus.$emit("summon-success",this.card))},changePosition:function(){rt.checkMainPhase(this.gameState,this.playerData)&&(this.card.position===U&&this.card.hidden&&(this.card.hidden=!1),this.card.position=this.card.position===Z?U:Z,this.card.afterOneChange=!0,this.spaceChanged=!0,this.canChangePosition=!1,this.gameState.eventBus.$emit("check-field","position"))},attack:function(){this.gameState.eventBus.$emit("battle-select-attacker",{card:this.card,player:this.playerData.player}),this.canAttack=!1,this.spaceSelected=!0,this.card={}},selectTarget:function(){this.gameState.eventBus.$emit("battle-select-target",{card:this.card,player:this.playerData.player}),this.canBeTargetted=!1,this.spaceSelected=!0,this.card={}},returnCard:function(t){this.spaceSelected&&(t.change=!1,this.card=t,this.spaceSelected=!1)}}},ee=te,ae=(a("afe3"),Object(p["a"])(ee,Xt,qt,!1,null,"a1df8058",null)),ne=ae.exports,re={name:"monster-zone",props:["gameState","playerData"],components:{"playing-card":$t,"monster-space":ne},computed:{},data:function(){return{spaces:Y,notForTribute:0,noCard:{name:"null_card",atk:0,def:0,card_images:[{img_url_small:""}],position:Z}}},mounted:function(){var t=this;this.playerData.eventBus.$on("summon-success",function(){t.spaces--,t.notForTribute++}),this.playerData.eventBus.$on("tribute-selected",function(){t.spaces++}),this.playerData.eventBus.$on("lose",function(){t.spaces<Y&&t.spaces++}),this.gameState.eventBus.$on("battle-select-attacker",function(){t.checkMonsterZone()})},watch:{"gameState.phase":function(){rt.checkDrawPhase(this.gameState,this.playerData)&&(this.notForTribute=0,this.playerData.eventBus.$emit("monster-zone-spaces",{spaces:this.spaces,tributes:this.spaces+this.notForTribute}))},spaces:function(){this.playerData.eventBus.$emit("monster-zone-spaces",{spaces:this.spaces,tributes:this.spaces+this.notForTribute})}},methods:{checkMonsterZone:function(){rt.checkTarget(this.gameState,this.playerData)&&this.spaces===Y&&this.gameState.eventBus.$emit("battle-select-target",{card:this.noCard,player:this.playerData.player})}}},se=re,ie=(a("01f1"),Object(p["a"])(se,Jt,Kt,!1,null,"6c12beed",null)),oe=ie.exports,ce=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"extra-monster-zone-container"},[a("div",{staticClass:"extra-monster-zone"},[a("div",{staticClass:"layer"},[a("h4",[t._v("Extra Monster Zone")])])])])}],de={name:"extra-monster-zone"},ue=de,he=(a("4546"),Object(p["a"])(ue,ce,le,!1,null,"35ad20d5",null)),pe=he.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"life-points-container",on:{click:t.sendMessage}},[a("p",{class:{green:this.points>4e3,amber:this.points>1e3,red:this.points<=1e3}},[t._v("☠️Life Points☠️ "),a("br"),t._v("\n  "+t._s(this.points))])])},fe=[],ve=a("8055"),ye=a.n(ve),ge={name:"life_points",props:["playerData"],data:function(){return{points:8e3,socket:ye()("localhost:5000")}},mounted:function(){var t=this;this.playerData.eventBus.$on("lose",function(e){return t.points+=e.damage}),this.playerData.eventBus.$on("no-win",function(e){return t.points+=e.damage})},watch:{points:function(){this.points<=0&&this.playerData.eventBus.$emit("defeat",this.playerData.player)}},methods:{sendMessage:function(){this.socket.emit("SEND_MESSAGE","hello")}}},be=ge,Ce=(a("2eb8"),Object(p["a"])(be,me,fe,!1,null,"7c31ab70",null)),_e=Ce.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"graveyard-deck-container"},[a("div",{staticClass:"graveyard-deck"},[t.cards.length>0?a("playing-card",{attrs:{card:t.cards[t.cards.length-1]}}):t._e()],1)])},Se=[],De=(a("7f7f"),{name:"graveyard-deck",props:["playerData"],components:{"playing-card":$t},data:function(){return{cards:[]}},mounted:function(){var t=this;this.playerData.eventBus.$on("lose",function(e){"null_card"!==e.card.name&&(t.resetCard(e.card),t.cards.push(e.card))}),this.playerData.eventBus.$on("discard",function(e){t.resetCard(e),t.cards.push(e)}),this.playerData.eventBus.$on("tribute-selected",function(e){t.resetCard(e),t.cards.push(e)})},methods:{resetCard:function(t){t.hidden=!1,t.afterOneChange=!1,t.changePosition=!1,t.position="atk"}}}),xe=De,we=(a("250c"),Object(p["a"])(xe,ke,Se,!1,null,"ae547dd4",null)),Be=we.exports,$e={name:"ai-board",props:["gameCards","gameState","playerData"],components:{"main-deck":ct,"extra-deck":mt,"side-deck":Ct,"playing-hand":jt,"spell-trap-zone":Ft,"field-zone":Yt,"monster-zone":oe,"extra-monster-zone":pe,"life-points":_e,"graveyard-deck":Be},data:function(){return{deck:[],minSize:40,maxRange:20}},mounted:function(){this.randomizeCards()},methods:{randomizeCards:function(){for(var t=Math.floor(Math.random()*this.maxRange),e=0;e<this.minSize+t;e++){var a=Math.floor(Math.random()*this.gameCards.length),n=Object.assign({},this.gameCards[a]);n.player=this.playerData.player,this.deck.push(n)}var r=Object.assign({},this.gameCards[this.gameCards.length-1]);r.player=this.playerData.player,this.deck.push(r)}}},Te=$e,Oe=(a("bd38"),Object(p["a"])(Te,E,P,!1,null,"13916576",null)),Ee=Oe.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player-board-container",class:{top:"one"===t.playerData.player,bottom:"two"===t.playerData.player}},[a("div",{staticClass:"first col"},[a("div",{staticClass:"top-row"},[a("playing-hand",{attrs:{gameState:t.gameState,playerData:t.playerData}})],1),a("div",{staticClass:"bottom-row deck-container"},[a("main-deck",{attrs:{deck:t.deck,gameState:t.gameState,playerData:t.playerData}}),a("extra-deck"),a("side-deck")],1)]),a("div",{staticClass:"second col"},[a("div",{staticClass:"top-row"},[a("spell-trap-zone",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("field-zone",{attrs:{gameState:t.gameState,playerData:t.playerData}})],1),a("div",{staticClass:"bottom-row"},[a("monster-zone",{attrs:{gameState:t.gameState,playerData:t.playerData}}),a("extra-monster-zone")],1)]),a("div",{staticClass:"last col"},[a("div",{staticClass:"top-row"},[a("life-points",{attrs:{playerData:t.playerData}})],1),a("div",{staticClass:"bottom-row"},[a("graveyard-deck",{attrs:{playerData:t.playerData}})],1)])])},Me=[],ze={name:"player-board",props:["gameCards","gameState","playerData"],components:{"main-deck":ct,"extra-deck":mt,"side-deck":Ct,"playing-hand":jt,"spell-trap-zone":Ft,"field-zone":Yt,"monster-zone":oe,"extra-monster-zone":pe,"life-points":_e,"graveyard-deck":Be},data:function(){return{deck:[],minSize:40,maxRange:20,testNumber:2}},mounted:function(){this.randomizeCards()},methods:{randomizeCards:function(){for(var t=Math.floor(Math.random()*(this.maxRange-this.testNumber)),e=0;e<this.minSize+t;e++){var a=Math.floor(Math.random()*this.gameCards.length),n=Object.assign({},this.gameCards[a]);n.player=this.playerData.player,this.deck.push(n)}for(var r=1;r<this.testNumber+1;r++){var s=Object.assign({},this.gameCards[this.gameCards.length-r]);s.player=this.playerData.player,this.deck.push(s)}}}},Ae=ze,je=(a("dea3"),Object(p["a"])(Ae,Pe,Me,!1,null,"80b289c0",null)),Ie=je.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"battlefield-container"},[a("div",{staticClass:"battlefield"},[a("div",{staticClass:"player-one"},[a("h4",[t._v("Player One")]),t.battleCards.one?a("playing-card",{attrs:{card:t.battleCards.one}}):t._e()],1),a("div",{staticClass:"battlefield-center"},[a("p",[t._v("----Battlefield Area----")]),t.battleCards.one&&t.battleCards.two?a("game-button",{attrs:{text:"Fight!!!",colour:"red"},nativeOn:{click:function(e){return t.battleWinner(e)}}}):t._e(),t.battleOver?a("game-button",{attrs:{text:"Continue",colour:"green"},nativeOn:{click:function(e){return t.resultCheck(e)}}}):t._e()],1),a("div",{staticClass:"player-two"},[a("h4",[t._v("Player Two")]),t.battleCards.two?a("playing-card",{attrs:{card:t.battleCards.two}}):t._e()],1)])])},He=[],Le={name:"battle-field",props:["gameState"],components:{"playing-card":$t,"game-button":D},data:function(){return{battleCards:{one:null,two:null},battleOver:!1,event:{one:"",two:""},damage:0}},mounted:function(){var t=this;this.gameState.eventBus.$on("battle-select-attacker",function(e){t.battleOver&&t.resultCheck(),t.cancelBattle(e.player),t.battleCards[e.player]=e.card}),this.gameState.eventBus.$on("battle-select-target",function(e){t.battleOver&&t.resultCheck(),t.cancelBattle(e.player),t.battleCards[e.player]=e.card})},watch:{"gameState.phase":function(){this.gameState.phase!==F&&this.gameState.phase!==G||(this.battleOver?this.resultCheck():(fn.$emit("battle-cancelled",this.battleCards.one),vn.$emit("battle-cancelled",this.battleCards.two),this.battleCards.one=null,this.battleCards.two=null))}},methods:{battleWinner:function(){this.battleCards.one.hidden=!1,this.battleCards.two.hidden=!1;var t=rt.checkDamage(this.battleCards.one,this.battleCards.two);this.damage=t.damage,0===t.cards.length?(this.event.one="no-win",this.event.two="no-win"):t.cards.length<2?t.cards[0]===this.battleCards.one?(this.event.one=this.battleCards.two.position===Z?"lose":"no-win",this.event.two="win"):(this.event.one="win",this.event.two=this.battleCards.one.position===Z?"lose":"no-win"):(this.event.one="lose",this.event.two="lose"),this.gameState.skipBattle=!1,this.gameState.eventBus.$emit("battle-over"),this.battleOver=!0},resultCheck:function(){fn.$emit(this.event.one,{card:this.battleCards.one,damage:this.damage}),vn.$emit(this.event.two,{card:this.battleCards.two,damage:this.damage}),this.battleCards.one=null,this.battleCards.two=null,this.event.one="",this.event.two="",this.battleOver=!1},cancelBattle:function(t){this.battleCards.one&&t===V?fn.$emit("battle-cancelled",this.battleCards.one):this.battleCards.two&&t===W&&vn.$emit("battle-cancelled",this.battleCards.two)}}},Re=Le,Fe=(a("3a5a"),Object(p["a"])(Re,Ne,He,!1,null,"336dfd16",null)),Ge=Fe.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"win-lose-container"},[null!=t.winner?a("div",{staticClass:"winner"},[a("h1",[t._v("♕ Winner - Player "+t._s(t.winner)+" ♕")]),a("router-link",{attrs:{to:{name:"home"}}},[t._v("Back to Home")])],1):t._e()])},Ue=[],Ve={name:"win-lose",data:function(){return{winner:null}},mounted:function(){var t=this;fn.$on("defeat",function(e){return t.winner="two"}),vn.$on("defeat",function(e){return t.winner="one"})}},We=Ve,Ye=(a("13e0"),Object(p["a"])(We,Ze,Ue,!1,null,"5c73d534",null)),Je=Ye.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:{yellow:"one"===t.playerData.player,blue:"two"===t.playerData.player},attrs:{type:"button"},on:{click:t.changePhaseTurn}},[t._v(t._s(t.gameState.phase))])},Xe=[],qe={name:"phase-button",props:["gameState","playerData"],data:function(){return{canClick:!0}},mounted:function(){var t=this;this.playerData.eventBus.$on("tribute-selected",function(){return t.canClick=!1}),this.playerData.eventBus.$on("summon-success",function(){return t.canClick=!0}),this.playerData.eventBus.$on("hand-extra-cards",function(){return t.canClick=!1}),this.playerData.eventBus.$on("hand-no-extra-cards",function(){return t.canClick=!0})},methods:{changePhaseTurn:function(){this.canClick&&(this.gameState=rt.changePhase(this.gameState),rt.checkEndPhase(this.gameState,this.playerData)&&(this.playerData.firstTurn&&(this.playerData.firstTurn=!1),this.gameState.skipBattle=!0))}}},Qe=qe,ta=(a("6b7a"),Object(p["a"])(Qe,Ke,Xe,!1,null,"ea1580bc",null)),ea=ta.exports,aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-box-container"},[a("transition",{staticClass:"text-container",attrs:{name:"text-bounce"}},[t.source?t._e():a("p",{staticClass:"text"},[t._v(t._s(t.text))])]),a("transition",{attrs:{name:"image-fade"}},[t.source?a("img",{attrs:{src:t.source}}):t._e()])],1)},na=[],ra={start:"Click the Start button to begin your turn",draw:"Both players draw 5 cards at the beginning of the game as their starting hand. You draw a card from your deck at the beginning of your turn, during the Draw Phase. The player who goes first can't draw.",standby:"Certain effects activate during the Standby Phase. Otherwise, just ignore it.",firstMain:"The Main Phase is the most important part of the turn, being the phase in which you will take most of your actions. In this phase, monsters can be summoned, effects can be activated, a monster’s battle position can be manually changed, and spells and traps can be activated or set.",battle:"You can attack using Attack Position monsters you control during the Battle Phase. Entering the Battle Phase is optional. If you do not enter the Battle Phase, you move on to the End Phase and you do not enter Main Phase 2. The player who goes first cannot conduct the Battle Phase.",secondMain:"After Battle Phase, you enter Main Phase 2. In this phase, the same actions as in Main Phase 1 can be performed, except you cannot change the battle position of a card that attacked during the Battle Phase. You cannot enter this phase if you have not entered the Battle Phase.",end:"The End Phase is the end of your turn. Certain effects may activate in this phase. After this, it becomes the next player’s turn."},sa={name:"info-box",props:["gameState"],data:function(){return{source:"",text:ra.start}},mounted:function(){var t=this;this.gameState.eventBus.$on("display-card",function(e){t.gameState.turn!==e.player&&e.hidden||(t.source=e.card_images[0].image_url)}),this.gameState.eventBus.$on("cancel",function(){return t.source=""})},watch:{"gameState.phase":function(){switch(this.gameState.phase){case I:this.text=ra.start;break;case N:this.text=ra.draw;break;case H:this.text=ra.standby;break;case L:this.text=ra.firstMain;break;case R:this.text=ra.battle;break;case F:this.text=ra.secondMain;break;case G:this.text=ra.end;break}}}},ia=sa,oa=(a("5cd6"),Object(p["a"])(ia,aa,na,!1,null,"117a31c0",null)),ca=oa.exports,la={name:"game-board",props:["gameCards","eventBus"],components:{"player-board":Ie,"ai-board":Ee,"battle-field":Ge,"win-lose":Je,"phase-button":ea,"info-box":ca},data:function(){return{gameState:{turn:"one",phase:"Start",eventBus:this.eventBus,skipBattle:!0},yellowPlayerData:{player:"one",eventBus:fn,firstTurn:!0,firstDrawAmount:5},bluePlayerData:{player:"two",eventBus:vn,firstTurn:!0,firstDrawAmount:6}}}},da=la,ua=(a("c75f"),Object(p["a"])(da,T,O,!1,null,"4a52397c",null)),ha=ua.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"store"}},[a("div",{attrs:{id:"store-container"}},[a("h1",[t._v("Duel Monsters Store")]),a("div",{staticClass:"store-cards-container"},t._l(t.storeCards,function(e){return a("div",{staticClass:"store-card"},[a("p",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("img",{attrs:{src:e.card_images[0].image_url_small}}),a("button",[t._v("Buy!")])])}),0)])])},ma=[],fa={name:"store",props:["allCards"],data:function(){return{storeCards:[],arrayOfSetCodes:[],arrayOfSetNames:[]}},mounted:function(){var t=this;this.storeCards=this.allCards.slice(0,120),this.allCards.forEach(function(e){e.card_sets&&e.card_sets.forEach(function(e){t.arrayOfSetCodes.includes(e.set_code)||t.arrayOfSetCodes.push(e.set_code),t.arrayOfSetNames.includes(e.set_name)||t.arrayOfSetNames.push(e.set_name)})})}},va=fa,ya=(a("5623"),Object(p["a"])(va,pa,ma,!1,null,"c35530e0",null)),ga=ya.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"about"}})},Ca=[],_a={},ka=_a,Sa=Object(p["a"])(ka,ba,Ca,!1,null,"68fb6a7a",null),Da=Sa.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"development"}},[a("div",{staticClass:"development-container"},[a("div",{staticClass:"select-container"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedType,expression:"selectedType"}],staticClass:"card-type",attrs:{name:"cardTypes"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"null"}},[t._v("Select card type...")]),t._l(t.cardTypes,function(e){return a("option",{domProps:{value:e.array}},[t._v(t._s(e.type))])})],2),t.type.isSpell?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRace,expression:"selectedRace"}],staticClass:"race-type",attrs:{name:"raceType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedRace=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:"null"}},[t._v("Select spell type...")]),t._l(t.cardTypes[t.type.spellIndex].spellTypes,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})],2):t._e()]),a("div",{staticClass:"development-card-container"},[a("card-display",{attrs:{eventBus:t.eventBus,display:t.current,gameArray:t.game.array}}),a("development-info",{attrs:{eventBus:t.eventBus,type:t.type,current:t.current,game:t.game}}),a("card-display",{attrs:{eventBus:t.eventBus,display:t.game,gameArray:t.game.array}})],1),a("div",{staticClass:"button-container"},[a("div",{staticClass:"add-button-container"},[a("div",{staticClass:"checkbox-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.initialise,expression:"initialise"}],attrs:{type:"checkbox",id:"initialise"},domProps:{checked:Array.isArray(t.initialise)?t._i(t.initialise,null)>-1:t.initialise},on:{change:function(e){var a=t.initialise,n=e.target,r=!!n.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);n.checked?i<0&&(t.initialise=a.concat([s])):i>-1&&(t.initialise=a.slice(0,i).concat(a.slice(i+1)))}else t.initialise=r}}}),a("label",{attrs:{for:"initialise"}},[t._v("Initialise game DB")])]),a("game-button",{attrs:{text:"Add first set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(0,2)}}}),a("game-button",{attrs:{text:"Add second set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(2,5)}}}),a("game-button",{attrs:{text:"Add third set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(5,8)}}}),a("game-button",{attrs:{text:"Add fourth set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(8,11)}}}),a("game-button",{attrs:{text:"Add fifth set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(11,14)}}}),a("game-button",{attrs:{text:"Add sixth set of cards",colour:"brown"},nativeOn:{click:function(e){return t.addSetsOfCards(14,17)}}})],1)])])])},wa=[],Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-display-container"},[a("h2",[t._v(t._s(t.display.title))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.display.searchTerm,expression:"display.searchTerm"}],staticClass:"search",attrs:{type:"text",value:"",placeholder:"Enter name of card..."},domProps:{value:t.display.searchTerm},on:{input:[function(e){e.target.composing||t.$set(t.display,"searchTerm",e.target.value)},t.findCard]}}),a("img",{attrs:{src:t.display.source},on:{click:t.displayInfo}}),t.display.source?a("div",{staticClass:"button-select-container"},[a("button",{staticClass:"develop-button",attrs:{type:"button"},on:{click:function(e){t.display.index=t.selectPrev(t.display)}}},[t._v("←")]),a("button",{staticClass:"develop-button",attrs:{type:"button"},on:{click:t.interactWithDB}},[t._v(t._s(t.display.buttonText))]),a("button",{staticClass:"develop-button",attrs:{type:"button"},on:{click:function(e){t.display.index=t.selectNext(t.display)}}},[t._v("→")])]):t._e()])},$a=[],Ta={name:"card-display",props:["eventBus","display","gameArray"],mounted:function(){var t=this;this.eventBus.$on("select-next-current",function(e){t.display.current?t.display.index=t.selectNext(e):t.display.index=t.display.array.length-1}),this.eventBus.$on("select-prev-game",function(e){t.display.current||(t.display.index=t.selectPrev(e))})},watch:{"display.index":function(){this.display.card=this.display.array[this.display.index],this.display.source=this.display.card?this.display.card.card_images[0].image_url:""}},methods:{displayInfo:function(){console.log(this.display.card)},checkName:function(t){return this.display.current?t.name.toLowerCase().includes(this.display.searchTerm.toLowerCase())&&!this.gameArray.some(function(e){return t.id===e.id}):t.name.toLowerCase().includes(this.display.searchTerm.toLowerCase())},findCard:function(){this.display.index=this.display.array.findIndex(this.checkName)},findCards:function(t,e){return t.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())})},selectNext:function(t){var e=t.array,a=t.index,n=t.searchTerm;if(n){var r=thchromeis.findCards(e,n);this.display.subIndex=this.display.subIndex===r.length-1?0:this.display.subIndex+1;var s=r[this.display.subIndex];return a=e.findIndex(function(t){return t===s}),this.display.current&&this.gameArray.some(function(t){return t.id===s.id})?this.selectNext({array:e,index:a,searchTerm:n}):a}return this.display.subIndex=0,a=a===e.length-1?0:a+1,this.display.current&&this.gameArray.some(function(t){return t.id===e[a].id})?this.selectNext({array:e,index:a,searchTerm:n}):a},selectPrev:function(t){var e=t.array,a=t.index,n=t.searchTerm;if(n){var r=this.findCards(e,n);this.display.subIndex=0===this.display.subIndex?r.length-1:this.display.subIndex-1;var s=r[this.display.subIndex];return a=e.findIndex(function(t){return t===s}),this.display.current&&this.gameArray.some(function(t){return t.id===s.id})?this.selectPrev({array:e,index:a,searchTerm:n}):a}return this.display.subIndex=0,a=0===a?e.length-1:a-1,this.display.current&&this.gameArray.some(function(t){return t.id===e[a].id})?this.selectPrev({array:e,index:a,searchTerm:n}):a},interactWithDB:function(){this.display.current?this.eventBus.$emit("add-card",this.display):this.eventBus.$emit("delete-card",this.display)}}},Oa=Ta,Ea=(a("73f6"),Object(p["a"])(Oa,Ba,$a,!1,null,"429acfd2",null)),Pa=Ea.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"development-info-container"},[a("h2",[t._v("Cards info from whole database")]),a("div",{staticClass:"db-info-container"},[a("p",[t._v("Total of all cards: "+t._s(t.type.totalCards)+" - Check total: "+t._s(t.type.checkTotal))]),a("div",{staticClass:"list-container"},[a("list-box",{attrs:{text:"Card types",array:t.type.allArray}}),a("list-box",{attrs:{text:"Spell types",array:t.type.spellArray}})],1)]),a("hr"),a("h2",[t._v("Cards added in game collection")]),a("p",[t._v("Total cards in game collection: "+t._s(t.game.array.length))]),a("div",{staticClass:"button-container"},[a("game-button",{attrs:{text:t.textWrite,colour:"white"},nativeOn:{click:function(e){return t.writeServerFile(e)}}}),a("game-button",{attrs:{text:t.textRead,colour:"red"},nativeOn:{click:function(e){return t.readServerFile(e)}}})],1),a("attribute-box",{attrs:{eventBus:t.eventBus,card:t.game.card}}),a("hr"),a("h2",[t._v("Cards not in game collection")]),t.current.card?a("div",{staticClass:"current-info-container"},[a("p",[t._v("Current set is "+t._s(t.current.card.type))]),a("p",[t._v("Total cards in current set collection: "+t._s(t.current.array.length))]),a("attribute-box",{attrs:{eventBus:t.eventBus,card:t.current.card}}),a("h4",[t._v("Description:")]),a("p",{staticClass:"description"},[t._v(t._s(t.current.card.desc))]),a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.showModal}},[t._v("Test Modal Component")]),a("modal-box",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{data:t.modalData},on:{close:t.closeModal}})],1):t._e()],1)},za=[],Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"attribute-box-container"},[a("div",{staticClass:"attribute-container"},[a("div",{staticClass:"attribute"},[a("h4",[t._v("Card attribute to add:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attribute,expression:"attribute"}],attrs:{type:"text",list:"attributes",value:"",placeholder:"Enter attribute name..."},domProps:{value:t.attribute},on:{input:[function(e){e.target.composing||(t.attribute=e.target.value)},t.checkValue]}}),a("datalist",{attrs:{id:"attributes"}},[a("option",{attrs:{disabled:"",value:"null"}},[t._v("Select attribute...")]),t._l(t.card,function(e,n){return a("option",{domProps:{value:n}},[t._v(t._s(e))])})],2)]),a("div",{staticClass:"value"},[a("h4",[t._v("Attribute value to add:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",value:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]),a("game-button",{attrs:{text:t.textAdd,colour:"green"},nativeOn:{click:function(e){return t.addAttribute(e)}}}),a("game-button",{attrs:{text:t.textRemove,colour:"red"},nativeOn:{click:function(e){return t.removeAttribute(e)}}}),t.card&&t.card.game?a("game-button",{attrs:{text:t.textUpdate,colour:"blue"},nativeOn:{click:function(e){return t.updateCard(e)}}}):t._e()],1)},ja=[],Ia={name:"attribute-box",props:["eventBus","card"],components:{"game-button":D},data:function(){return{textAdd:"Add attribute",textRemove:"Remove attribute",textUpdate:"Update card",attribute:"",value:""}},methods:{checkValue:function(){this.value=this.card[this.attribute]},addAttribute:function(){(this.attribute.includes("effect")||this.attribute.includes("affects"))&&(this.value=at(this.value)),this.$set(this.card,this.attribute,this.value)},removeAttribute:function(){delete this.card[this.attribute]},updateCard:function(){this.eventBus.$emit("update-card",this.card)}}},Na=Ia,Ha=(a("aba7"),Object(p["a"])(Na,Aa,ja,!1,null,"101e2136",null)),La=Ha.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-box-container"},[a("h4",[t._v(t._s(t.text))]),a("ul",{staticClass:"list"},t._l(t.array,function(e){return a("li",[t._v(t._s(e[0])+": "+t._s(e[1]))])}),0)])},Fa=[],Ga={name:"list-box",props:["text","array"]},Za=Ga,Ua=(a("e3d5"),Object(p["a"])(Za,Ra,Fa,!1,null,"4818c08b",null)),Va=Ua.exports,Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[t._t("header",[t._v("\n          "+t._s(t.data.header)+"\n          "),a("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])])],2),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[t._v(t._s(t.data.body))])],2),a("footer",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n          "+t._s(t.data.footer)+"\n          "),a("button",{staticClass:"btn-green",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v(t._s(t.data.buttonOptions))])])],2)])])])},Ya=[],Ja={name:"modal",props:["data"],methods:{close:function(){this.$emit("close")}}},Ka=Ja,Xa=(a("1e91"),Object(p["a"])(Ka,Wa,Ya,!1,null,"30dc193b",null)),qa=Xa.exports,Qa={name:"development-info",props:["eventBus","type","current","game"],components:{"attribute-box":La,"list-box":Va,"game-button":D,"modal-box":qa},data:function(){return{textWrite:"Write DB to file",textRead:"Read DB from file",isModalVisible:!1,modalData:{header:"Warning",body:"Accepting alters the database",footer:"Select Yes/No",buttonOptions:"Yes"}}},methods:{writeServerFile:function(){d.writeFile("game_cards/")},readServerFile:function(){var t=this;d.readFile("game_cards/").then(function(e){t.game.array=e,t.game.index=0,t.game.subIndex=0,t.game.searchTerm=""})},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1}}},tn=Qa,en=(a("40a6"),Object(p["a"])(tn,Ma,za,!1,null,"d0cc9212",null)),an=en.exports,nn={name:"development",props:["allCards","eventBus"],components:{"card-display":Pa,"development-info":an,"game-button":D},computed:{selectedType:{get:function(){return null},set:function(t){this.type.isSpell=this.cardTypes[this.type.spellIndex].array===t,this.setCurrentCard(t)}},selectedRace:{get:function(){return null},set:function(t){this.setCurrentCard(this.cardTypes[this.type.spellIndex].array.filter(function(e){return e.race===t}))}}},data:function(){return{initialise:!1,cardTypes:[{name:"normalMonsters",array:[],type:"Normal Monsters",cardTypesList:["Normal Monster"],route:"normal_monsters/",altRoute:"game_cards/"},{name:"effectMonsters",array:[],type:"Effect Monsters",cardTypesList:["Effect Monster","Flip Effect Monster"],route:"effect_monsters/"},{name:"fusionMonsters",array:[],type:"Fusion Monsters",cardTypesList:["Fusion Monster"],route:"fusion_monsters/"},{name:"geminiMonsters",array:[],type:"Gemini Monsters",cardTypesList:["Gemini Monster"],route:"gemini_monsters/"},{name:"linkMonsters",array:[],type:"Link Monsters",cardTypesList:["Link Monster"],route:"link_monsters/"},{name:"pendulumMonsters",array:[],type:"Pendulum Monsters",cardTypesList:["Pendulum Effect Fusion Monster","Pendulum Effect Monster","Pendulum Flip Effect Monster","Pendulum Normal Monster","Pendulum Tuner Effect Monster"],route:"pendulum_monsters/"},{name:"ritualMonsters",array:[],type:"Ritual Monsters",cardTypesList:["Ritual Effect Monster","Ritual Monster"],route:"ritual_monsters/"},{name:"spiritMonsters",array:[],type:"Spirit Monsters",cardTypesList:["Spirit Monster"],route:"spirit_monsters/"},{name:"synchroMonsters",array:[],type:"Synchro Monsters",cardTypesList:["Synchro Monster","Synchro Pendulum Effect Monster","Synchro Tuner Monster"],route:"synchro_monsters/"},{name:"toonMonsters",array:[],type:"Toon Monsters",cardTypesList:["Toon Monster"],route:"toon_monsters/"},{name:"tunerMonsters",array:[],type:"Tuner Monsters",cardTypesList:["Tuner Monster","Normal Tuner Monster"],route:"tuner_monsters/"},{name:"unionMonsters",array:[],type:"Union Monsters",cardTypesList:["Union Effect Monster"],route:"union_monsters/"},{name:"xyzMonsters",array:[],type:"XYZ Monsters",cardTypesList:["XYZ Monster","XYZ Pendulum Effect Monster"],route:"xyz_monsters/"},{name:"tokenCards",array:[],type:"Tokens",cardTypesList:["Token"],route:"token_cards/"},{name:"skillCards",array:[],type:"Skill Cards",cardTypesList:["Skill Card"],route:"skill_cards/"},{name:"spellCards",array:[],type:"Spell Cards",cardTypesList:["Spell Card"],route:"spell_cards/",spellTypes:["Continuous","Equip","Field","Normal","Quick-Play","Ritual"]},{name:"trapCards",array:[],type:"Trap Cards",cardTypesList:["Trap Card"],route:"trap_cards/"}],type:{totalCards:this.allCards.length,checkTotal:0,allCount:{},allArray:[],spellCount:{},spellArray:[],spell:"Spell Card",isSpell:!1,spellIndex:15},current:{title:"Cards not in game",buttonText:"Add Card",array:[],index:0,subIndex:0,card:{},source:"",searchTerm:"",current:!0},game:{title:"Cards in game",buttonText:"Remove Card",array:[],index:0,subIndex:0,card:{},source:"",searchTerm:"",current:!1}}},mounted:function(){var t=this;this.getGameCards(),this.getCardTypes(),this.type.checkTotal=this.checkSubTotals(),this.eventBus.$on("add-card",function(e){t.addToGameDB(e)}),this.eventBus.$on("delete-card",function(e){t.deleteFromGameDB(e)}),this.eventBus.$on("update-card",function(e){return t.updateCardInGameDB(e)}),this.eventBus.$on("card-added",function(e){t.game.array.push(e),t.eventBus.$emit("select-next-current",t.current)}),this.eventBus.$on("card-deleted",function(){t.game.array.splice(t.game.index,1),t.eventBus.$emit("select-prev-game",t.game)})},methods:{checkSubTotals:function(){var t=0;return this.cardTypes.forEach(function(e){return t+=e.array.length}),t},setCurrentCard:function(t){var e=this;this.current.array=t,this.current.index=0,this.current.card=this.current.array[this.current.index],this.current.source=this.current.card.card_images[0].image_url,this.current.searchTerm="";while(this.game.array.some(function(t){return t.id===e.current.array[e.current.index].id})){if(this.current.index++,!(this.current.index<this.current.array.length)){this.current.card={},this.current.source="";break}this.current.card=this.current.array[this.current.index],this.current.source=this.current.card.card_images[0].image_url}},getGameCards:function(){var t=this;d.getAllCards("game_cards/").then(function(e){t.game.array=e,t.game.card=t.game.array[t.game.index],t.game.source=t.game.card.card_images[0].image_url})},getCardType:function(t){d.getAllCards(t.route).then(function(e){return t.array=e}),this.cardTypes.forEach(function(e){e.name===t.name&&(e=t)})},getCardTypes:function(){var t=this;this.allCards.forEach(function(e){delete e._id;var a=t.cardTypes.findIndex(function(t){return t.cardTypesList.includes(e.type)});a>=0&&t.cardTypes[a].array.push(e),t.type.allCount=Q(t.type.allCount,e.type),t.type.allArray=et(t.type.allCount),e.type===t.type.spell&&(t.type.spellCount=Q(t.type.spellCount,e.race)),t.type.spellArray=et(t.type.spellCount)})},addSetsOfCards:function(t,e){var a=this.cardTypes.slice(t,e);a.forEach(function(t){d.postCards(t.array,t.route)}),this.initialise&&(this.cardTypes[0].array.forEach(function(t){return t.game=!0}),d.postCards(this.cardTypes[0].array,this.cardTypes[0].altRoute),this.getGameCards(),this.initialise=!1)},addToGameDB:function(t){var e=this,a=t.array,n=t.index,r=a[n];r.game=!0,d.postCard(r,"game_cards/").then(function(t){return e.eventBus.$emit("card-added",t)})},deleteFromGameDB:function(t){var e=this,a=t.array,n=t.index,r=a[n];d.deleteCard(r._id,"game_cards/").then(function(t){return e.eventBus.$emit("card-deleted",t)})},updateCardInGameDB:function(t){var e=this;d.updateCard(t,"game_cards/").then(function(t){return e.eventBus.$emit("card-updated",t)})}}},rn=nn,sn=(a("c7aa"),Object(p["a"])(rn,xa,wa,!1,null,"621448bd",null)),on=sn.exports;n["a"].use(v["a"]);var cn=new v["a"]({routes:[{path:"/",name:"home",component:$},{path:"/gameboard",name:"game-board",component:ha},{path:"/store",name:"store",component:ga},{path:"/about",name:"about",component:Da},{path:"/develop",name:"develop",component:on}]}),ln=cn,dn=a("5132"),un=a.n(dn);a.d(e,"SocketInstance",function(){return mn}),a.d(e,"eventBus1",function(){return fn}),a.d(e,"eventBus2",function(){return vn}),a.d(e,"eventBusInfo",function(){return yn}),a.d(e,"eventBusPlayingHand",function(){return gn});var hn=Object({NODE_ENV:"production",BASE_URL:"/"}).SOCKET_PORT||5e3,pn="http://localhost:".concat(hn),mn=ye()(pn);n["a"].use(new un.a({debug:!0,connection:pn,vue:{actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"},options:{path:""}}),mn),n["a"].config.productionTip=!1;var fn=new n["a"],vn=new n["a"],yn=new n["a"],gn=new n["a"];new n["a"]({router:ln,render:function(t){return t(f)}}).$mount("#app")},5702:function(t,e,a){},"577b":function(t,e,a){"use strict";var n=a("5702"),r=a.n(n);r.a},"5cd6":function(t,e,a){"use strict";var n=a("d85b"),r=a.n(n);r.a},"61f4":function(t,e,a){},"61fd":function(t,e,a){},"6b7a":function(t,e,a){"use strict";var n=a("09f7"),r=a.n(n);r.a},"73f6":function(t,e,a){"use strict";var n=a("f592"),r=a.n(n);r.a},"748a":function(t,e,a){"use strict";var n=a("e28d"),r=a.n(n);r.a},7626:function(t,e,a){},"7c7d":function(t,e,a){},"7dbd":function(t,e,a){},"82d0":function(t,e,a){},"83b3":function(t,e,a){},"84b3":function(t,e,a){"use strict";var n=a("c566"),r=a.n(n);r.a},"8c3a":function(t,e,a){},a397:function(t,e,a){},aa74:function(t,e,a){},aba7:function(t,e,a){"use strict";var n=a("ef9c"),r=a.n(n);r.a},afe3:function(t,e,a){"use strict";var n=a("a397"),r=a.n(n);r.a},b3e2:function(t,e,a){"use strict";var n=a("272b"),r=a.n(n);r.a},b7d6:function(t,e,a){"use strict";var n=a("7dbd"),r=a.n(n);r.a},bd38:function(t,e,a){"use strict";var n=a("d738"),r=a.n(n);r.a},c302:function(t,e,a){t.exports=a.p+"img/card_back.fd0cb97a.png"},c566:function(t,e,a){},c75f:function(t,e,a){"use strict";var n=a("0472"),r=a.n(n);r.a},c7aa:function(t,e,a){"use strict";var n=a("f89d"),r=a.n(n);r.a},ca08:function(t,e,a){"use strict";var n=a("7c7d"),r=a.n(n);r.a},cfb0:function(t,e,a){"use strict";var n=a("df93"),r=a.n(n);r.a},d738:function(t,e,a){},d85b:function(t,e,a){},dea3:function(t,e,a){"use strict";var n=a("f824"),r=a.n(n);r.a},df93:function(t,e,a){},e28d:function(t,e,a){},e3d5:function(t,e,a){"use strict";var n=a("16a4"),r=a.n(n);r.a},e860:function(t,e,a){},ebd0:function(t,e,a){},eee1:function(t,e,a){},ef9c:function(t,e,a){},f592:function(t,e,a){},f824:function(t,e,a){},f89d:function(t,e,a){}});
//# sourceMappingURL=app.bbc50da8.js.map